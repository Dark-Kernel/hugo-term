<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Firefox Hardening :: Sumit Patel</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Using firefox? Firefox is the best browser for linux nerds and others, it&amp;rsquo;s being almost 2 decades of firefox and now it is filled with bloatwares which needs to be remove to increase the quality. You might heard this way long ago. But have you done something to get less tracked by google?
Mozilla and Google have extended their current search deal to keep Google as the default search engine provider inside the Firefox browser until at least 2023, with an estimated price tag of around $400 million to $450 million per year." />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://dark-kernel.web.app/post/firefox-hardening/" />






  
  
  
  
  
  <link rel="stylesheet" href="https://dark-kernel.web.app/styles.css">







  <link rel="shortcut icon" href="https://dark-kernel.web.app/img/theme-colors/pink.png">
  <link rel="apple-touch-icon" href="https://dark-kernel.web.app/img/theme-colors/pink.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Firefox Hardening">
<meta property="og:description" content="Using firefox? Firefox is the best browser for linux nerds and others, it&amp;rsquo;s being almost 2 decades of firefox and now it is filled with bloatwares which needs to be remove to increase the quality. You might heard this way long ago. But have you done something to get less tracked by google?
Mozilla and Google have extended their current search deal to keep Google as the default search engine provider inside the Firefox browser until at least 2023, with an estimated price tag of around $400 million to $450 million per year." />
<meta property="og:url" content="https://dark-kernel.web.app/post/firefox-hardening/" />
<meta property="og:site_name" content="Sumit Patel" />

  
    <meta property="og:image" content="https://dark-kernel.web.app/img/favicon/pink.png">
  

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2023-07-29 16:43:11 &#43;0530 IST" />












</head>
<body class="pink">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Sumit Patel
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about/">About</a></li>
        
      
        
          <li><a href="/post">Post</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about/" >About</a></li>
        
      
        
          <li><a href="/post" >Post</a></li>
        
      
        
          <li><a href="/showcase" >Showcase</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://dark-kernel.web.app/post/firefox-hardening/">Firefox Hardening</a>
  </h1>
  <div class="post-meta"><time class="post-date">2023-07-29</time></div>

  
  


  

  <div class="post-content"><div>
        <h3 id="using-firefox">Using firefox?<a href="#using-firefox" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Firefox is the best browser for linux nerds and others, it&rsquo;s being almost 2 decades of firefox and now it is filled with bloatwares which needs to be remove to increase the quality.
You might heard this way long ago. But have you done something to get less tracked by google?</p>
<blockquote>
<p>Mozilla and Google have extended their current search deal to keep Google as the default search engine provider inside the Firefox browser until at least 2023, with an estimated price tag of around $400 million to $450 million per year.</p>
</blockquote>
<p>Well, today we will see some of the steps to increase the security and surfing experience of firefox.</p>
<h2 id="update-the-userjs-profile">Update the user.js profile.<a href="#update-the-userjs-profile" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ol>
<li>
<p>Visit <code>about:profiles</code> on your firefox, don&rsquo;t touch any profile, create new.</p>
</li>
<li>
<p>click on <code>open directory</code>, it will open the location where that user profile exists.</p>
</li>
<li>
<p>create new file <code>user.js</code> in that directory</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim user.js
</span></span></code></pre></div><p>Now here the game starts,</p>
<p>This file is used to toggle and set multiple preferences for firefox which cannot be changed directly using firefox ui.
So here we will be defining some the important user_preferences.</p>
<ul>
<li>Increase speed.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;nglayout.initialpaint.delay&#34;</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;nglayout.initialpaint.delay_in_oopif&#34;</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;content.notify.interval&#34;</span>, <span style="color:#ae81ff">100000</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.startup.preXulSkeletonUI&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span></code></pre></div><ul>
<li>Set the browser cache limit</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.cache.memory.max_entry_size&#34;</span>, <span style="color:#ae81ff">153600</span>);
</span></span></code></pre></div><ul>
<li>Increase tracking protections</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.contentblocking.category&#34;</span>, <span style="color:#e6db74">&#34;strict&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;urlclassifier.trackingSkipURLs&#34;</span>, <span style="color:#e6db74">&#34;*.reddit.com, *.twitter.com, *.twimg.com, *.tiktok.com&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;urlclassifier.features.socialtracking.skipURLs&#34;</span>, <span style="color:#e6db74">&#34;*.instagram.com, *.twitter.com, *.twimg.com&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;privacy.query_stripping.strip_list&#34;</span>, <span style="color:#e6db74">&#34;__hsfp __hssc __hstc __s _hsenc _openstat dclid fbclid gbraid gclid hsCtaTracking igshid mc_eid ml_subscriber ml_subscriber_hash msclkid oft_c oft_ck oft_d oft_id oft_ids oft_k oft_lk oft_sk oly_anon_id oly_enc_id rb_clickid s_cid twclid vero_conv vero_id wbraid wickedid yclid&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.uitour.enabled&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;privacy.globalprivacycontrol.enabled&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;privacy.globalprivacycontrol.functionality.enabled&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span></code></pre></div><ul>
<li>Avoid the usage of disk cache</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.cache.disk.enable&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.privatebrowsing.forceMediaMemoryCache&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.sessionstore.privacy_level&#34;</span>, <span style="color:#ae81ff">2</span>);
</span></span></code></pre></div><ul>
<li>Disable search prefecher/predictor</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;network.http.speculative-parallel-limit&#34;</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;network.dns.disablePrefetch&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.urlbar.speculativeConnect.enabled&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.places.speculativeConnect.enabled&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;network.prefetch-next&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;network.predictor.enabled&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;network.predictor.enable-prefetch&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span></code></pre></div><ul>
<li>Disable annoying search suggestions like: topsites, search engines, etc.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.search.separatePrivateDefault.ui.enabled&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.urlbar.update2.engineAliasRefresh&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.search.suggest.enabled&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.urlbar.suggest.quicksuggest.sponsored&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.urlbar.suggest.quicksuggest.nonsponsored&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;security.insecure_connection_text.enabled&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;security.insecure_connection_text.pbmode.enabled&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;network.IDN_show_punycode&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.urlbar.suggest.engines&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.urlbar.suggest.topsites&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#a6e22e">Adding</span> <span style="color:#a6e22e">some</span> <span style="color:#a6e22e">features</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.urlbar.suggest.calculator&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.urlbar.unitConversion.enabled&#34;</span>, <span style="color:#66d9ef">true</span>);
</span></span></code></pre></div><ul>
<li>Disable cross site scirpting</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;network.auth.subresource-http-auth-allow&#34;</span>, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;pdfjs.enableScripting&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;extensions.postDownloadThirdPartyPrompt&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;permissions.delegation.enabled&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span></code></pre></div><ul>
<li>Disbale accessibility and location services.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;accessibility.force_disabled&#34;</span>, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;identity.fxaccounts.enabled&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;browser.tabs.firefox-view&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;permissions.default.desktop-notification&#34;</span>, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;permissions.default.geo&#34;</span>, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;geo.provider.network.url&#34;</span>, <span style="color:#e6db74">&#34;https://location.services.mozilla.com/v1/geolocate?key=%MOZILLA_API_KEY%&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;geo.provider.ms-windows-location&#34;</span>, <span style="color:#66d9ef">false</span>); <span style="color:#75715e">// WINDOWS
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;geo.provider.use_corelocation&#34;</span>, <span style="color:#66d9ef">false</span>); <span style="color:#75715e">// MAC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;geo.provider.use_gpsd&#34;</span>, <span style="color:#66d9ef">false</span>); <span style="color:#75715e">// LINUX
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;geo.provider.use_geoclue&#34;</span>, <span style="color:#66d9ef">false</span>); <span style="color:#75715e">// LINUX
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;permissions.manager.defaultsUrl&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;webchannel.allowObject.urlWhitelist&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>);
</span></span></code></pre></div><ul>
<li>Disable pockets</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">user_pref</span>(<span style="color:#e6db74">&#34;extensions.pocket.enabled&#34;</span>, <span style="color:#66d9ef">false</span>);
</span></span></code></pre></div><p>By adding these preferences your firefox is now more secure, but you also needs an adblocker.</p>
<h3 id="ad-blockers-recommended">Ad-blockers (recommended)<a href="#ad-blockers-recommended" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<ol>
<li>UBlock origin</li>
<li>AdGuard AdBlocker</li>
</ol>
<p>Both are free and opensource.</p>
<h3 id="search-engine">Search engine<a href="#search-engine" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Even after all these you need to change one more thing i.e <code>search engine</code>. By default google is set which sucks lot of user data and also show the ads in search results.
That&rsquo;s why we need to change search engine also.</p>
<ol>
<li><a href="https://github.com/searxng/searxng">SearXNG</a></li>
<li><a href="https://www.startpage.com/en/">Startpage</a></li>
<li><a href="https://search.brave.com/default">Brave</a></li>
</ol>
<p>These are few safe search engines with minimal look &amp; great results without <strong>ads</strong>.</p>
<p>To add any search engine,</p>
<ul>
<li>first visit the page of it.</li>
<li>click on search bar and click on <code>add search engine..</code>.</li>
</ul>

<img src="/search-engine.png"  alt="Hello Friend"  class="center"  style="border-radius: 8px;"    />


<h3 id="customize-look-with-pywal-optional">Customize look with pywal (optional)<a href="#customize-look-with-pywal-optional" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>To customize look of firefox you can use pywal to generate colorscheme according to your wallpaper which can improve the look.
There&rsquo;s an extension for this called <a href="https://addons.mozilla.org/en-US/firefox/addon/pywalfox/?utm_source=addons.mozilla.org&amp;utm_medium=referral&amp;utm_content=search"><code>pywalfox</code></a> which will be using.</p>
<ul>
<li>Install pywalfox</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install pywalfox --break-system-packages
</span></span></code></pre></div><ul>
<li>Run command</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pywalfox install
</span></span></code></pre></div><ul>
<li>Add the extension then, open it and click <code>Fetch pywal colors</code>.</li>
</ul>

      </div></div>

  
    
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        
        <span class="button next">
            <a href="https://dark-kernel.web.app/post/firefox-custom-new-tab-file/">
                <span class="button__text">Set custom HTML file as a new tab in Firefox</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  
    

  
  
</article>





  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2023 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
